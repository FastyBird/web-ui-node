patch-package
--- a/node_modules/vuex-persistedstate/dist/vuex-persistedstate.es.js
+++ b/node_modules/vuex-persistedstate/dist/vuex-persistedstate.es.js
@@ -1,2 +1,2 @@
-import t from"deepmerge";import{set as e,get as r}from"shvl";export default function(n,o,u){function i(t,e,r){try{return(r=e.getItem(t))&&void 0!==r?JSON.parse(r):void 0}catch(t){}}if(o=(n=n||{}).storage||window&&window.localStorage,u=n.key||"vuex",!function(t){try{return t.setItem("@@",1),t.removeItem("@@"),!0}catch(t){}return!1}(o))throw new Error("Invalid storage instance given");return function(c){var a=r(n,"getState",i)(u,o);"object"==typeof a&&null!==a&&c.replaceState(t(c.state,a,{arrayMerge:n.arrayMerger||function(t,e){return e},clone:!1})),(n.subscriber||function(t){return function(e){return t.subscribe(e)}})(c)(function(t,i){(n.filter||function(){return!0})(t)&&(n.setState||function(t,e,r){return r.setItem(t,JSON.stringify(e))})(u,(n.reducer||function(t,n){return 0===n.length?t:n.reduce(function(n,o){return e(n,o,r(t,o))},{})})(i,n.paths||[]),o)})}};
+import t from"deepmerge";import{set as e,get as r}from"shvl";export default function(n,o,u){function i(t,e,r){try{return(r=e.getItem(t))&&void 0!==r?JSON.parse(r):void 0}catch(t){}}if(o=(n=n||{}).storage||window&&window.localStorage,u=n.key||"vuex",!function(t){try{return t.setItem("@@",1),t.removeItem("@@"),!0}catch(t){}return!1}(o))return function(c){var a=r(n,"getState",i)(u,o);"object"==typeof a&&null!==a&&c.replaceState(t(c.state,a,{arrayMerge:n.arrayMerger||function(t,e){return e},clone:!1})),(n.subscriber||function(t){return function(e){return t.subscribe(e)}})(c)(function(t,i){(n.filter||function(){return!0})(t)&&(n.setState||function(t,e,r){return r.setItem(t,JSON.stringify(e))})(u,(n.reducer||function(t,n){return 0===n.length?t:n.reduce(function(n,o){return e(n,o,r(t,o))},{})})(i,n.paths||[]),o)})}};
 //# sourceMappingURL=vuex-persistedstate.es.js.map
--- a/node_modules/vuex-persistedstate/dist/vuex-persistedstate.es.js.map
+++ b/node_modules/vuex-persistedstate/dist/vuex-persistedstate.es.js.map
@@ -1 +1 @@
-{"version":3,"file":"vuex-persistedstate.es.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  if (!canWriteStorage(storage)) {\n    throw new Error('Invalid storage instance given');\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"4EAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,EAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,EAASF,EAAUC,EAAMpB,EAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
\ No newline at end of file
+{"version":3,"file":"vuex-persistedstate.es.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"4EAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,EAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,EAASF,EAAUC,EAAMpB,EAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
--- a/node_modules/vuex-persistedstate/dist/vuex-persistedstate.js.map
+++ b/node_modules/vuex-persistedstate/dist/vuex-persistedstate.js.map
@@ -1 +1 @@
-{"version":3,"file":"vuex-persistedstate.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  if (!canWriteStorage(storage)) {\n    throw new Error('Invalid storage instance given');\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"iHAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,MAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,MAASF,EAAUC,EAAMpB,MAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
\ No newline at end of file
+{"version":3,"file":"vuex-persistedstate.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"iHAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,MAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,MAASF,EAAUC,EAAMpB,MAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
--- a/node_modules/vuex-persistedstate/dist/vuex-persistedstate.umd.js
+++ b/node_modules/vuex-persistedstate/dist/vuex-persistedstate.umd.js
@@ -1,2 +1,2 @@
-!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("deepmerge"),require("shvl")):"function"==typeof define&&define.amd?define(["deepmerge","shvl"],t):e.createPersistedState=t(e.deepmerge,e.shvl)}(this,function(e,t){return e=e&&e.hasOwnProperty("default")?e.default:e,function(r,n,u){function o(e,t,r){try{return(r=t.getItem(e))&&void 0!==r?JSON.parse(r):void 0}catch(e){}}if(n=(r=r||{}).storage||window&&window.localStorage,u=r.key||"vuex",!function(e){try{return e.setItem("@@",1),e.removeItem("@@"),!0}catch(e){}return!1}(n))throw new Error("Invalid storage instance given");return function(i){var c=t.get(r,"getState",o)(u,n);"object"==typeof c&&null!==c&&i.replaceState(e(i.state,c,{arrayMerge:r.arrayMerger||function(e,t){return t},clone:!1})),(r.subscriber||function(e){return function(t){return e.subscribe(t)}})(i)(function(e,o){(r.filter||function(){return!0})(e)&&(r.setState||function(e,t,r){return r.setItem(e,JSON.stringify(t))})(u,(r.reducer||function(e,r){return 0===r.length?e:r.reduce(function(r,n){return t.set(r,n,t.get(e,n))},{})})(o,r.paths||[]),n)})}}});
+!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("deepmerge"),require("shvl")):"function"==typeof define&&define.amd?define(["deepmerge","shvl"],t):e.createPersistedState=t(e.deepmerge,e.shvl)}(this,function(e,t){return e=e&&e.hasOwnProperty("default")?e.default:e,function(r,n,u){function o(e,t,r){try{return(r=t.getItem(e))&&void 0!==r?JSON.parse(r):void 0}catch(e){}}if(n=(r=r||{}).storage||window&&window.localStorage,u=r.key||"vuex",!function(e){try{return e.setItem("@@",1),e.removeItem("@@"),!0}catch(e){}return!1}(n))return function(i){var c=t.get(r,"getState",o)(u,n);"object"==typeof c&&null!==c&&i.replaceState(e(i.state,c,{arrayMerge:r.arrayMerger||function(e,t){return t},clone:!1})),(r.subscriber||function(e){return function(t){return e.subscribe(t)}})(i)(function(e,o){(r.filter||function(){return!0})(e)&&(r.setState||function(e,t,r){return r.setItem(e,JSON.stringify(t))})(u,(r.reducer||function(e,r){return 0===r.length?e:r.reduce(function(r,n){return t.set(r,n,t.get(e,n))},{})})(o,r.paths||[]),n)})}}});
 //# sourceMappingURL=vuex-persistedstate.umd.js.map
--- a/node_modules/vuex-persistedstate/dist/vuex-persistedstate.umd.js.map
+++ b/node_modules/vuex-persistedstate/dist/vuex-persistedstate.umd.js.map
@@ -1 +1 @@
-{"version":3,"file":"vuex-persistedstate.umd.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  if (!canWriteStorage(storage)) {\n    throw new Error('Invalid storage instance given');\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"qTAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,MAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,MAASF,EAAUC,EAAMpB,MAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
\ No newline at end of file
+{"version":3,"file":"vuex-persistedstate.umd.js","sources":["../index.js"],"sourcesContent":["import merge from 'deepmerge';\nimport * as shvl from 'shvl';\n\nexport default function(options, storage, key) {\n  options = options || {};\n  storage = options.storage || (window && window.localStorage);\n  key = options.key || 'vuex';\n\n  function canWriteStorage(storage) {\n    try {\n      storage.setItem('@@', 1);\n      storage.removeItem('@@');\n      return true;\n    } catch (e) {}\n\n    return false;\n  }\n\n  function getState(key, storage, value) {\n    try {\n      return (value = storage.getItem(key)) && typeof value !== 'undefined'\n        ? JSON.parse(value)\n        : undefined;\n    } catch (err) {}\n\n    return undefined;\n  }\n\n  function filter() {\n    return true;\n  }\n\n  function setState(key, state, storage) {\n    return storage.setItem(key, JSON.stringify(state));\n  }\n\n  function reducer(state, paths) {\n    return paths.length === 0\n      ? state\n      : paths.reduce(function(substate, path) {\n          return shvl.set(substate, path, shvl.get(state, path));\n        }, {});\n  }\n\n  function subscriber(store) {\n    return function(handler) {\n      return store.subscribe(handler);\n    };\n  }\n\n  return function(store) {\n    const savedState = shvl.get(options, 'getState', getState)(key, storage);\n\n    if (typeof savedState === 'object' && savedState !== null) {\n      store.replaceState(merge(store.state, savedState, {\n        arrayMerge: options.arrayMerger || function (store, saved) { return saved },\n        clone: false,\n      }));\n    }\n\n    (options.subscriber || subscriber)(store)(function(mutation, state) {\n      if ((options.filter || filter)(mutation)) {\n        (options.setState || setState)(\n          key,\n          (options.reducer || reducer)(state, options.paths || []),\n          storage\n        );\n      }\n    });\n  };\n};\n"],"names":["options","storage","key","getState","value","getItem","JSON","parse","undefined","err","window","localStorage","setItem","removeItem","e","canWriteStorage","Error","store","const","savedState","shvl.get","replaceState","merge","state","arrayMerge","arrayMerger","saved","clone","subscriber","handler","subscribe","mutation","filter","setState","stringify","reducer","paths","length","reduce","substate","path","shvl.set"],"mappings":"qTAGe,SAASA,EAASC,EAASC,GAexC,SAASC,EAASD,EAAKD,EAASG,GAC9B,IACE,OAAQA,EAAQH,EAAQI,QAAQH,UAA0B,IAAVE,EAC5CE,KAAKC,MAAMH,QACXI,QACGC,KA2BX,GA7CAR,GADAD,EAAUA,OACQC,SAAYS,QAAUA,OAAOC,aAC/CT,EAAMF,EAAQE,KAAO,QAErB,SAAyBD,GACvB,IAGE,OAFAA,EAAQW,QAAQ,KAAM,GACtBX,EAAQY,WAAW,OACZ,QACAC,IAET,OAAO,EAmCJC,CAAgBd,GACnB,MAAM,IAAIe,MAAM,kCAGlB,OAAO,SAASC,GACdC,IAAMC,EAAaC,MAASpB,EAAS,WAAYG,EAA9BiB,CAAwClB,EAAKD,GAEtC,iBAAfkB,GAA0C,OAAfA,GACpCF,EAAMI,aAAaC,EAAML,EAAMM,MAAOJ,GACpCK,WAAYxB,EAAQyB,aAAe,SAAUR,EAAOS,GAAS,OAAOA,GACpEC,OAAO,MAIV3B,EAAQ4B,YApBX,SAAoBX,GAClB,OAAO,SAASY,GACd,OAAOZ,EAAMa,UAAUD,MAkBUZ,GAAO,SAASc,EAAUR,IACtDvB,EAAQgC,QArCjB,WACE,OAAO,IAoC0BD,KAC5B/B,EAAQiC,UAlCf,SAAkB/B,EAAKqB,EAAOtB,GAC5B,OAAOA,EAAQW,QAAQV,EAAKI,KAAK4B,UAAUX,MAkCrCrB,GACCF,EAAQmC,SAhCjB,SAAiBZ,EAAOa,GACtB,OAAwB,IAAjBA,EAAMC,OACTd,EACAa,EAAME,OAAO,SAASC,EAAUC,GAC9B,OAAOC,MAASF,EAAUC,EAAMpB,MAASG,EAAOiB,WA4BnBjB,EAAOvB,EAAQoC,WAC5CnC"}
